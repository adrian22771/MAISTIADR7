
const Database = require('better-sqlite3');

class ConexaoBanco {
    constructor() {
        /*
        C처digo para criar ou abrir o arquivo .db da lojinha
        */
       this.db = new Database ('loja.db');
      this._criarTabela();
    }

    _criarTabela() {
        // Define a estrutura da tabela de produtos
        const sql = 
          
            `
            CREATE TABLE PRODUTOS(
            produto_id  INTEGER PRIMARY KEY,
            nome  VARCHAR[30] NOT NULL,
            preco  REAL NOT NULL)
            `

        this.db.prepare(sql).run();
    }
}

// Exportamos a conex찾o para ser usada nos outros arquivos 
// (n찾o alterem o c처digo abaixo)
module.exports = new ConexaoBanco().db;
